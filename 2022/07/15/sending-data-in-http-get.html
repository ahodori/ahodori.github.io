<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Sending data in an HTTP GET request | Your awesome title</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Sending data in an HTTP GET request" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="While working on the Javascript functionality of my most recent project, I ran into a problem involving the fetch() function. The situation was this: I wanted the client to be able to search for and add users to a list. The complete set of users is too large to be reasonable as a response to a request that will probably be repeated; I want to send a search string to the back end so it can narrow down its response to a reasonable size. But when you send an HTTP GET request, you’re not allowed to specify a request body. You need to send the search string using a URL query string." />
<meta property="og:description" content="While working on the Javascript functionality of my most recent project, I ran into a problem involving the fetch() function. The situation was this: I wanted the client to be able to search for and add users to a list. The complete set of users is too large to be reasonable as a response to a request that will probably be repeated; I want to send a search string to the back end so it can narrow down its response to a reasonable size. But when you send an HTTP GET request, you’re not allowed to specify a request body. You need to send the search string using a URL query string." />
<link rel="canonical" href="/2022/07/15/sending-data-in-http-get.html" />
<meta property="og:url" content="/2022/07/15/sending-data-in-http-get.html" />
<meta property="og:site_name" content="Your awesome title" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-07-15T16:39:01-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Sending data in an HTTP GET request" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-07-15T16:39:01-04:00","datePublished":"2022-07-15T16:39:01-04:00","description":"While working on the Javascript functionality of my most recent project, I ran into a problem involving the fetch() function. The situation was this: I wanted the client to be able to search for and add users to a list. The complete set of users is too large to be reasonable as a response to a request that will probably be repeated; I want to send a search string to the back end so it can narrow down its response to a reasonable size. But when you send an HTTP GET request, you’re not allowed to specify a request body. You need to send the search string using a URL query string.","headline":"Sending data in an HTTP GET request","mainEntityOfPage":{"@type":"WebPage","@id":"/2022/07/15/sending-data-in-http-get.html"},"url":"/2022/07/15/sending-data-in-http-get.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Your awesome title" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Your awesome title</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Sending data in an HTTP GET request</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2022-07-15T16:39:01-04:00" itemprop="datePublished">Jul 15, 2022
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>While working on the Javascript functionality of my most recent project, I ran into a problem involving the fetch() function. The situation was this: I wanted the client to be able to search for and add users to a list. The complete set of users is too large to be reasonable as a response to a request that will probably be repeated; I want to send a search string to the back end so it can narrow down its response to a reasonable size. But when you send an HTTP GET request, you’re not allowed to specify a request body. You need to send the search string using a URL query string.</p>

<p>So what are the different options for sending data in an HTTP request, and when should we use each type? Let’s go through them one by one.</p>

<h2 id="url-query-strings">URL query strings</h2>

<p>Query strings are the parameters specified in a URL. They look like this:
<code class="language-plaintext highlighter-rouge">https://example.com/path?query=1&amp;otherquery=stringvalue</code>
This query specifies the parameters “query” set to “1”, and “otherquery” set to “stringvalue”. It’s important to note that both are strings, even though the first only contains a numerical character; the server is responsible for casting that parameter to a number and interpreting it correctly. In a Ruby on Rails app I’ve encountered situations where a .to_i was necessary to force the parameter to the correct type before it could be used.</p>

<p>Query strings are good for GET requests in particular, since the response body is unavailable, though they can be used with all HTTP request types. The main limitation on their usage is length; there is often a limit on URL length that prevents a query string from carrying much information. For this reason, query strings are best for identifying resource names and IDs that are relevant to the request for lookup purposes, rather than data that will be stored on the server.</p>

<h2 id="request-body">Request body</h2>

<p>In Javascript, a POST request with a body could look something like this:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">    <span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">/resources</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
       <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
       <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
       <span class="p">},</span>
       <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="na">name</span><span class="p">:</span> <span class="nx">newResourceName</span><span class="p">,</span>
        <span class="na">user_id</span><span class="p">:</span> <span class="nx">currentUser</span><span class="p">.</span><span class="nx">id</span>
       <span class="p">})</span>
    <span class="p">})</span></code></pre></figure>

<p>The header specifies the body as JSON presented in string format. Unlike query strings, the JSON object in the body can be arbitrarily big (although requests that send a lot of data have their own issues) and parameters in the object can be of any type allowed by JSON. A request body is only available with POST, PATCH, and PUT HTTP methods, but it works best for sending data that will be stored on the server.</p>

<h2 id="url-path">URL path</h2>
<p>There’s one other way of sending information in a url; the actual path itself. For example:
<code class="language-plaintext highlighter-rouge">https://example.com/resource/1/parameter/56</code>
Although by default we would think of this path as navigating a set of nested folders, our backend router can parse this as a set of parameters. The “resource” and “parameter” parts give structure and can be interpreted on the backend as a sign of what the arbitrary “1” and “56” parameters should be used as. There doesn’t have to be an actual file at that path; the backend can interpret the path through the router and present a response as if there was.</p>

<p>Because of the intuitive expectation that a path like this represents an actual resource on the backend, this format is best used for accessing singular, static resources. We might expect the response to the request in the URL query strings section to change depending on the state of the server; maybe you’re requesting the most recent data, which changes from moment to moment. But a URL path should (usually) point to the same data forever. This is a convention rather than a hard rule, but it helps developers to understand the structure of your site and API and how to use it effectively.</p>

  </div><a class="u-url" href="/2022/07/15/sending-data-in-http-get.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Your awesome title</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Your awesome title</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
